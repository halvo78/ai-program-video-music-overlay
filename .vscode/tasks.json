{
  "version": "2.0.0",
  "tasks": [
    {
      "label": "üöÄ Start FastAPI Server",
      "type": "shell",
      "command": "uvicorn",
      "args": [
        "app.main:app",
        "--reload",
        "--port",
        "8000",
        "--host",
        "0.0.0.0"
      ],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "new",
        "focus": false
      },
      "group": {
        "kind": "build",
        "isDefault": false
      }
    },
    {
      "label": "üé® Start Next.js Dashboard",
      "type": "shell",
      "command": "npm",
      "args": ["run", "dev"],
      "options": {
        "cwd": "${workspaceFolder}/dashboard"
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "new"
      }
    },
    {
      "label": "üß™ Run Python Tests",
      "type": "shell",
      "command": "pytest",
      "args": [
        "tests/",
        "-v",
        "--cov=app",
        "--cov-report=html",
        "--cov-report=term"
      ],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always"
      },
      "group": {
        "kind": "test",
        "isDefault": true
      }
    },
    {
      "label": "üîç Lint Python (Ruff)",
      "type": "shell",
      "command": "ruff",
      "args": ["check", ".", "--fix"],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always"
      }
    },
    {
      "label": "‚ú® Format Python (Ruff)",
      "type": "shell",
      "command": "ruff",
      "args": ["format", "."],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always"
      }
    },
    {
      "label": "üîç Type Check Python (mypy)",
      "type": "shell",
      "command": "mypy",
      "args": ["app", "--ignore-missing-imports"],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always"
      }
    },
    {
      "label": "üß™ Run Dashboard Tests",
      "type": "shell",
      "command": "npm",
      "args": ["test"],
      "options": {
        "cwd": "${workspaceFolder}/dashboard"
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "always"
      }
    },
    {
      "label": "üèóÔ∏è Build Dashboard",
      "type": "shell",
      "command": "npm",
      "args": ["run", "build"],
      "options": {
        "cwd": "${workspaceFolder}/dashboard"
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "always"
      }
    },
    {
      "label": "üì¶ Install All (install.ps1)",
      "type": "shell",
      "command": "powershell",
      "args": ["-File", "${workspaceFolder}/install.ps1"],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always"
      }
    },
    {
      "label": "üì¶ Install Python Dependencies",
      "type": "shell",
      "command": "pip",
      "args": ["install", "-r", "requirements.txt"],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always"
      }
    },
    {
      "label": "üì¶ Install Dashboard Dependencies",
      "type": "shell",
      "command": "npm",
      "args": ["install"],
      "options": {
        "cwd": "${workspaceFolder}/dashboard"
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "always"
      }
    },
    {
      "label": "üîÑ Full Stack (API + Dashboard)",
      "dependsOn": [
        "üöÄ Start FastAPI Server",
        "üé® Start Next.js Dashboard"
      ],
      "dependsOrder": "parallel",
      "problemMatcher": [],
      "presentation": {
        "reveal": "always"
      }
    },
    {
      "label": "üöÄ Start All (start.ps1)",
      "type": "shell",
      "command": "powershell",
      "args": ["-File", "${workspaceFolder}/start.ps1"],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always",
        "panel": "new"
      },
      "isBackground": true
    },
    {
      "label": "üîê Manage Secrets",
      "type": "shell",
      "command": "powershell",
      "args": ["-File", "${workspaceFolder}/secrets.ps1", "-Action", "list"],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always"
      }
    },
    {
      "label": "‚úÖ Verify Secrets",
      "type": "shell",
      "command": "powershell",
      "args": ["-File", "${workspaceFolder}/secrets.ps1", "-Action", "verify"],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always"
      }
    },
    {
      "label": "üßπ Clean Python Cache",
      "type": "shell",
      "command": "Get-ChildItem",
      "args": [
        "-Path",
        ".",
        "-Include",
        "__pycache__,*.pyc,*.pyo,*.pyd,.pytest_cache,.mypy_cache,.ruff_cache",
        "-Recurse",
        "-Force"
      ],
      "windows": {
        "command": "powershell",
        "args": [
          "-Command",
          "Get-ChildItem -Path . -Include __pycache__,*.pyc,*.pyo,*.pyd,.pytest_cache,.mypy_cache,.ruff_cache -Recurse -Force | Remove-Item -Force -Recurse"
        ]
      },
      "problemMatcher": [],
      "presentation": {
        "reveal": "always"
      }
    },
    {
      "label": "üìä Generate Coverage Report",
      "type": "shell",
      "command": "pytest",
      "args": [
        "tests/",
        "--cov=app",
        "--cov-report=html",
        "--cov-report=term-missing"
      ],
      "problemMatcher": [],
      "presentation": {
        "reveal": "always"
      }
    }
  ]
}

